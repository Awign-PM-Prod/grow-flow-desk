<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mandates</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .table-wrap{overflow:auto}
    input[type=number]::-webkit-outer-spin-button,input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
    input[type=number]{-moz-appearance:textfield}
  </style>
</head>
<body class="bg-slate-50 text-slate-900">
  <div class="max-w-7xl mx-auto p-4 sm:p-6">
    <!-- Header -->
    <header class="mb-6 flex items-center justify-between">
      <h1 class="text-2xl sm:text-3xl font-bold">Mandates</h1>
      <nav class="inline-flex rounded-xl bg-white shadow-sm border">
        <button id="tabMandateForm" class="px-4 py-2 rounded-l-xl text-sm font-medium bg-blue-600 text-white">Add Mandate</button>
        <button id="tabMandateView" class="px-4 py-2 rounded-r-xl text-sm font-medium">View Mandates</button>
      </nav>
    </header>

    <!-- PAGE: Add Mandate (wireframe) -->
    <section id="pageMandateForm" class="space-y-6">
      <div class="bg-white rounded-2xl shadow p-4 border space-y-6">
        <!-- Project Info -->
        <h3 class="font-semibold text-lg">Project Info</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium mb-1">Project Code* </label>
            <input type="text" class="w-full rounded-lg border px-3 py-2" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Project Name *</label>
            <input type="text" class="w-full rounded-lg border px-3 py-2" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Account Name *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>Dummy Account</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">KAM (CE in charge) *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>John KAM</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">LoB (Vertical) *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>LM</option>
              <option>Audit</option>
            </select>
          </div>
        </div>

        <!-- Handover Info (from Demand Team) -->
        <h3 class="font-semibold text-lg">Handover Info (from Demand Team)</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium mb-1">New Sales Owner</label>
            <input type="text" class="w-full rounded-lg border px-3 py-2" />
          </div>
          
          <div>
            <label class="block text-sm font-medium mb-1">Monthly Volume *</label>
            <input type="number" class="w-full rounded-lg border px-3 py-2" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Commercial per head/task *</label>
            <input type="number" class="w-full rounded-lg border px-3 py-2" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">MCV *</label>
            <input type="text" placeholder="Auto" readonly class="w-full rounded-lg border px-3 py-2 bg-slate-50" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">PRJ duration in months *</label>
            <input type="number" class="w-full rounded-lg border px-3 py-2" />
            <p class="text-xs text-slate-500 mt-1">How many months of PRJ in the next 12 months (1–12)</p>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">ACV *</label>
            <input type="number" class="w-full rounded-lg border px-3 py-2" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">PRJ Type *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>Recurring</option>
              <option>One-time</option>
            </select>
          </div>
        </div>

        <!-- Revenue Info (to be updated by KAM) -->
        <h3 class="font-semibold text-lg">Revenue Info (to be updated by KAM)</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          
          <div>
            <label class="block text-sm font-medium mb-1">Monthly Volume *</label>
            <input type="number" class="w-full rounded-lg border px-3 py-2" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Commercial per head/task *</label>
            <input type="number" class="w-full rounded-lg border px-3 py-2" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">MCV *</label>
            <input type="text" placeholder="Auto" readonly class="w-full rounded-lg border px-3 py-2 bg-slate-50" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">ACV *</label>
            <input type="number" class="w-full rounded-lg border px-3 py-2" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">PRJ Type *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>Recurring</option>
              <option>One-time</option>
            </select>
          </div>
        </div>

        <!-- Mandate Checker -->
        <h3 class="font-semibold text-lg">Mandate Checker</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium mb-1">Mandate Health *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>Exceeds Expectations</option>
              <option>Meets Expectations</option>
              <option>Need Improvement</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Upsell Constraint *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>YES</option>
              <option>NO</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Upsell Constraint Type *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>-</option>
              <option>Internal</option>
              <option>External</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Upsell Constraint Type - Sub *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>Profitability</option>
              <option>Delivery</option>
              <option>Others</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Upsell Constraint Type - Sub 2 *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>GM too Low</option>
              <option>CoC (Cost of Capital too high)</option>
              <option>Schedule too tight</option>
              
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Client Budget Trend *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>Increase</option>
              <option>Same</option>
              <option>Decrease</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Awign Share % *</label>
            <select class="w-full rounded-lg border px-3 py-2">
              <option>Below 70%</option>
              <option>70% & Above</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Retention Type (Automatically)</label>
            <input type="text" placeholder="Star" readonly class="w-full rounded-lg border px-3 py-2 bg-slate-50" />
          </div>
        </div>

        <!-- Upsell Action Status -->
        <h3 class="font-semibold text-lg">Upsell Action Status</h3>
        <div>
          <select class="w-full rounded-lg border px-3 py-2">
            <option>Not Started</option>
            <option>Ongoing</option>
            <option>Done</option>
          </select>
        </div>

        <div class="flex justify-end">
          <button class="px-4 py-2 rounded-lg bg-blue-600 text-white">Save Mandate</button>
        </div>
      </div>
    </section>

    <!-- PAGE: View Mandates (wireframe) -->
    <section id="pageMandateView" class="space-y-6 hidden">
      <div class="bg-white rounded-2xl shadow p-4 border space-y-4">
        <h3 class="font-semibold text-lg">Filters</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-3">
          <input type="text" class="rounded-lg border px-3 py-2" placeholder="Search by Project / Account / KAM" />
          <select class="rounded-lg border px-3 py-2"><option>All LoB</option><option>Vertical Sample</option></select>
          <select class="rounded-lg border px-3 py-2"><option>All Mandate Health</option><option>Exceeds Expectations</option><option>Meets Expectations</option><option>Need Improvement</option></select>
          <select class="rounded-lg border px-3 py-2"><option>All Upsell Status</option><option>Not Started</option><option>Ongoing</option><option>Done</option></select>
          <button class="px-3 py-2 rounded-lg border bg-white hover:bg-slate-100">Clear Filters</button>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow p-4 border">
        <div class="table-wrap">
          <table class="w-full text-sm">
            <thead>
              <tr class="text-left border-b">
                <th class="py-2 pr-2">Project Code</th>
                <th class="py-2 pr-2">Project Name</th>
                <th class="py-2 pr-2">Account</th>
                <th class="py-2 pr-2">KAM</th>
                <th class="py-2 pr-2">LoB</th>
                <th class="py-2 pr-2">ACV</th>
                <th class="py-2 pr-2">MCV</th>
                <th class="py-2 pr-2">Mandate Health</th>
                <th class="py-2 pr-2">Upsell Status</th>
                <th class="py-2 pr-2">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-b">
                <td class="py-2 pr-2">PRJ-0001</td>
                <td class="py-2 pr-2">Mikasa Audit</td>
                <td class="py-2 pr-2">Dummy Account</td>
                <td class="py-2 pr-2">John KAM</td>
                <td class="py-2 pr-2">Vertical Sample</td>
                <td class="py-2 pr-2">12,00,000</td>
                <td class="py-2 pr-2">1,00,000</td>
                <td class="py-2 pr-2">Meets Expectations</td>
                <td class="py-2 pr-2">Ongoing</td>
                <td class="py-2 pr-2"><button class="px-2 py-1 rounded border hover:bg-slate-100" onclick="openMandateDetails()">View Details</button></td>
              </tr>
              <tr class="border-b">
                <td class="py-2 pr-2">PRJ-0002</td>
                <td class="py-2 pr-2">Greenlam Rollout</td>
                <td class="py-2 pr-2">Dummy Account</td>
                <td class="py-2 pr-2">Jane KAM</td>
                <td class="py-2 pr-2">Vertical Sample</td>
                <td class="py-2 pr-2">24,00,000</td>
                <td class="py-2 pr-2">2,00,000</td>
                <td class="py-2 pr-2">Exceeds Expectations</td>
                <td class="py-2 pr-2">Not Started</td>
                <td class="py-2 pr-2"><button class="px-2 py-1 rounded border hover:bg-slate-100" onclick="openMandateDetails()">View Details</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </div>

  <!-- Mandate Details Modal (full width) -->
  <div id="mandateDetailsModal" class="hidden fixed inset-0 z-50">
    <div class="absolute inset-0 bg-black/40" onclick="closeMandateDetails()"></div>
    <div class="absolute inset-x-0 top-1/2 -translate-y-1/2 mx-auto w-full max-w-none bg-white rounded-2xl shadow-xl border p-6">
      <div class="flex items-start justify-between gap-4">
        <div>
          <h3 class="text-xl font-semibold">PRJ-0001 · Mikasa Audit</h3>
          <p class="text-sm text-slate-600 mt-1">Dummy Account · KAM: John KAM · LoB: Vertical Sample</p>
        </div>
        <button class="rounded-lg border px-3 py-1.5 hover:bg-slate-50" onclick="closeMandateDetails()">Close</button>
      </div>

      <div class="mt-6 space-y-6">
        <div class="border rounded-xl p-4 bg-slate-50">
          <h4 class="font-semibold mb-3">Project Info</h4>
          <p class="text-sm">Project Code: PRJ-0001</p>
          <p class="text-sm">Project Name: Mikasa Audit</p>
          <p class="text-sm">Account Name: Dummy Account</p>
          <p class="text-sm">KAM: John KAM</p>
          <p class="text-sm">LoB: Vertical Sample</p>
        </div>

        <div class="border rounded-xl p-4 bg-slate-50">
          <h4 class="font-semibold mb-3">Handover Info</h4>
          <p class="text-sm">New Sales Owner: Jane Sales</p>
          <p class="text-sm">MCV: 1,00,000</p>
          <p class="text-sm">Monthly Volume: 200</p>
          <p class="text-sm">Commercial per head/task: 500</p>
          <p class="text-sm">PRJ duration: 6 months</p>
          <p class="text-sm">ACV: 12,00,000</p>
          <p class="text-sm">PRJ Type: Recurring</p>
        </div>

        <div class="border rounded-xl p-4 bg-slate-50">
          <h4 class="font-semibold mb-3">Revenue Info (KAM)</h4>
          <p class="text-sm">MCV: 1,00,000</p>
          <p class="text-sm">Monthly Volume: 200</p>
          <p class="text-sm">Commercial per head/task: 500</p>
          <p class="text-sm">ACV: 12,00,000</p>
          <p class="text-sm">PRJ Type: Recurring</p>
        </div>

        <div class="border rounded-xl p-4 bg-slate-50">
          <h4 class="font-semibold mb-3">Mandate Checker</h4>
          <p class="text-sm">Mandate Health: Meets Expectations</p>
          <p class="text-sm">Upsell Constraint: YES</p>
          <p class="text-sm">Upsell Constraint Type: Internal</p>
          <p class="text-sm">Upsell Constraint Type - Sub: Existing Sales - Data Image</p>
          <p class="text-sm">Upsell Constraint Type - Sub 2: Existing Sales - Data Image</p>
          <p class="text-sm">Client Budget Trend: Increase</p>
          <p class="text-sm">Awign Share %: 70% & Above</p>
          <p class="text-sm">Retention Type: STAR</p>
        </div>

        <div class="border rounded-xl p-4 bg-slate-50">
          <h4 class="font-semibold mb-3">Upsell Action Status</h4>
          <p class="text-sm">Status: Ongoing</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // simple tab toggle (no data logic)
    const tabMandateForm = document.getElementById('tabMandateForm');
    const tabMandateView = document.getElementById('tabMandateView');
    const pageMandateForm = document.getElementById('pageMandateForm');
    const pageMandateView = document.getElementById('pageMandateView');

    function showMandateForm(){
      pageMandateForm.classList.remove('hidden');
      pageMandateView.classList.add('hidden');
      tabMandateForm.classList.add('bg-blue-600','text-white');
      tabMandateView.classList.remove('bg-blue-600','text-white');
    }
    function showMandateView(){
      pageMandateView.classList.remove('hidden');
      pageMandateForm.classList.add('hidden');
      tabMandateView.classList.add('bg-blue-600','text-white');
      tabMandateForm.classList.remove('bg-blue-600','text-white');
    }
    showMandateForm();
    tabMandateForm.onclick = showMandateForm;
    tabMandateView.onclick = showMandateView;

    // modal
    function openMandateDetails(){ document.getElementById('mandateDetailsModal').classList.remove('hidden'); }
    function closeMandateDetails(){ document.getElementById('mandateDetailsModal').classList.add('hidden'); }
    window.openMandateDetails = openMandateDetails;
    window.closeMandateDetails = closeMandateDetails;
  </script>
  </div>
</body>
</html>
